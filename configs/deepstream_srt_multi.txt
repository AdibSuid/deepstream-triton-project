[application]
enable-perf-measurement=1
perf-measurement-interval-sec=5

[tiled-display]
enable=1
rows=2
columns=2
width=1920
height=1080
gpu-id=0
nvbuf-memory-type=0

# Stream 1 - From Edge Agent cam1
[source0]
enable=1
type=4
uri=rtsp://localhost:8554/stream1
num-sources=1
gpu-id=0
cudadec-memtype=0
latency=100
rtsp-reconnect-interval-sec=10
drop-frame-interval=0

# Stream 2 - From Edge Agent cam2
[source1]
enable=1
type=4
uri=rtsp://localhost:8554/stream2
num-sources=1
gpu-id=0
cudadec-memtype=0
latency=100
rtsp-reconnect-interval-sec=10
drop-frame-interval=0

# Stream 3 - From Edge Agent cam3
[source2]
enable=1
type=4
uri=rtsp://localhost:8554/stream3
num-sources=1
gpu-id=0
cudadec-memtype=0
latency=100
rtsp-reconnect-interval-sec=10
drop-frame-interval=0

# Stream 4 - From Edge Agent cam4
[source3]
enable=1
type=4
uri=rtsp://localhost:8554/stream4
num-sources=1
gpu-id=0
cudadec-memtype=0
latency=100
rtsp-reconnect-interval-sec=10
drop-frame-interval=0

# Disable X display output (headless cloud server)
[sink0]
enable=0
type=2
sync=0

# Disable RTSP output (inference only)
[sink1]
enable=0
type=4

# Fake sink for processing without display
[sink2]
enable=1
type=1
sync=0
qos=0

[osd]
enable=1
gpu-id=0
border-width=3
text-size=15
text-color=1;1;1;1;
text-bg-color=0.3;0.3;0.3;1
font=Arial
show-clock=1

[streammux]
gpu-id=0
live-source=1
batch-size=4
batched-push-timeout=40000
width=640
height=640
enable-padding=0
nvbuf-memory-type=0

# Triton inference with YOLO11n
[primary-nvinferserver]
enable=1
gpu-id=0
gie-unique-id=1
nvbuf-memory-type=0
config-file=/configs/config_infer_primary_yolo11n.txt

# Object tracking
[tracker]
enable=1
tracker-width=640
tracker-height=384
ll-lib-file=/opt/nvidia/deepstream/deepstream/lib/libnvds_nvmultiobjecttracker.so
ll-config-file=/configs/tracker_config.yml
gpu-id=0

[tests]
file-loop=0